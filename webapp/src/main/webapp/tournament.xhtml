<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/default.xhtml">
	<ui:define name="content">
		<h1>
			<h:outputLabel value="#{tournamentBean.tournament.name}" />
		</h1>

		<h:form id="form">
			<p:panelGrid rendered="#{tournamentBean.mode == 'SHOW'}">
				<p:row>
					<p:column>
						<h:outputLabel for="tname" value="Tournament name:" />
					</p:column>
					<p:column>
						<h:outputText id="tname" value="#{tournamentBean.tournament.name}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="sporttype" value="Sport:" />
					</p:column>
					<p:column>
						<h:outputText id="sporttype"
							value="#{tournamentBean.tournament.sporttype}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="sport" value="Other sport name:" />
					</p:column>
					<p:column>
						<h:outputText disabled="true" id="sport"
							value="#{tournamentBean.tournament.sport}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:selectOneRadio id="teams"
							value="#{tournamentBean.tournament.teamTournanament}">
							<f:selectItem itemValue="#{true}" itemLabel="Teams" />
							<f:ajax event="click" render="teams teams2" />
						</p:selectOneRadio>
					</p:column>
					<p:column>
						<p:selectOneRadio id="teams2"
							value="#{tournamentBean.tournament.teamTournanament}">
							<f:selectItem itemValue="#{false}" itemLabel="Single player" />
							<f:ajax event="click" render="teams teams2" />
						</p:selectOneRadio>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:selectOneRadio id="public"
							value="#{tournamentBean.tournament.publicTournament}">
							<f:selectItem itemValue="#{true}" itemLabel="Public" />
							<f:ajax event="click" render="public public2" />
						</p:selectOneRadio>
					</p:column>
					<p:column>
						<p:selectOneRadio id="public2"
							value="#{tournamentBean.tournament.publicTournament}">
							<f:selectItem itemValue="#{false}" itemLabel="Private" />
							<f:ajax event="click" render="public public2" />
						</p:selectOneRadio>
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="description" value="Description" />
					</p:column>
					<p:column>
						<h:outputText id="description" autoResize="false" maxlength="511"
							value="#{tournamentBean.tournament.description}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="fee" value="Fee:" />
					</p:column>
					<p:column>
						<h:outputText id="fee" value="#{tournamentBean.tournament.fee}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="address" value="Place:" />
					</p:column>
					<p:column>
						<h:outputText id="address" autoResize="false" maxlength="255"
							value="#{tournamentBean.tournament.address}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="zip" value="ZIP:" />
					</p:column>
					<p:column>
						<h:outputText id="zip" value="#{tournamentBean.tournament.zip}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="city" value="City:" />
					</p:column>
					<p:column>
						<h:outputText id="city" value="#{tournamentBean.tournament.city}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="country" value="Country:" />
					</p:column>
					<p:column>
						<h:outputText id="country"
							value="#{tournamentBean.tournament.country}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="website" value="Website:" />
					</p:column>
					<p:column>
						<h:outputText id="website"
							value="#{tournamentBean.tournament.website}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="startTime" value="Start date:" />
					</p:column>
					<p:column>
						<h:outputText id="startTime"
							value="#{tournamentBean.tournament.startTime}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="endTime" value="End date:" />
					</p:column>
					<p:column>
						<h:outputText id="endTime"
							value="#{tournamentBean.tournament.endTime}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="applTime" value="Application deadline:" />
					</p:column>
					<p:column>
						<h:outputText id="applTime"
							value="#{tournamentBean.tournament.applicationEndTime}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="nteams"
							value="Maximum number of teams/players:" />
					</p:column>
					<p:column>
						<h:outputText id="nteams"
							value="#{tournamentBean.tournament.nTeams}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel value="Contact person:" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="firstname" value="Firstname:" />
					</p:column>
					<p:column>
						<h:outputText id="firstname"
							value="#{tournamentBean.tournament.contactfirstname}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="lastname" value="Lastname:" />
					</p:column>
					<p:column>
						<h:outputText id="lastname"
							value="#{tournamentBean.tournament.contactlastname}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="phone" value="Phone:" />
					</p:column>
					<p:column>
						<h:outputText id="phone"
							value="#{tournamentBean.tournament.contactphone}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="email" value="Email:" />
					</p:column>
					<p:column>
						<h:outputText id="email"
							value="#{tournamentBean.tournament.contactemail}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel for="contactaddress" value="Address:" />
					</p:column>
					<p:column>
						<h:outputText id="contactaddress"
							value="#{tournamentBean.tournament.contactaddress}" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:commandButton value="Edit Team"
							action="#{tournamentBean.editParticipants()}" render="@form" />
					</p:column>
				</p:row>
			</p:panelGrid>

			<p:panelGrid rendered="#{tournamentBean.mode == 'MANAGE_TEAM'}">

				<p:dataTable value="#{tournamentBean.tournament.teamTournament}"
					sortMode="multiple" paginator="true" var="team" id="teamstable"
					rows="10">
					<p:column>
						<f:facet name="header">
							<h:outputText value="Name" />
						</f:facet>
						<h:outputText value="#{team.team.name}" />
					</p:column>
					<p:column>
						<f:facet name="header">
							<h:outputText value="Status" />
						</f:facet>
						<h:outputText value="#{team.accepted}" />
					</p:column>
					<p:column rendered="#{!team.accepted}">
						<f:facet name="header">
							<h:outputText value="" />
						</f:facet>
						<h:commandButton value="Accept"
							action="#{tournamentBean.acceptTeam(team)}" render="@form" />
					</p:column>
					<p:column>
						<f:facet name="header">
							<h:outputText value="" />
						</f:facet>
						<h:commandButton value="Decline"
							action="#{tournamentBean.declineTeam(team)}" render="@form" />
					</p:column>
				</p:dataTable>

			</p:panelGrid>

			<p:panelGrid rendered="#{tournamentBean.mode == 'MANAGE_PLAYER'}">
				<p:dataTable value="#{tournamentBean.tournament.playerTournament}"
					sortMode="multiple" paginator="true" var="player" id="playertable"
					rows="10">
					<p:column>
						<f:facet name="header">
							<h:outputText value="Name" />
						</f:facet>
						<h:outputText value="#{player.player.lastname}" />
					</p:column>
					<p:column>
						<f:facet name="header">
							<h:outputText value="Status" />
						</f:facet>
						<h:outputText value="#{player.accepted}" />
					</p:column>
					<p:column rendered="#{!player.accepted}">
						<f:facet name="header">
							<h:outputText value="" />
						</f:facet>
						<h:commandButton value="Accept"
							action="#{tournamentBean.acceptPlayer(player)}" render="@form" />
					</p:column>
					<p:column>
						<f:facet name="header">
							<h:outputText value="" />
						</f:facet>
						<h:commandButton value="Decline"
							action="#{tournamentBean.declinePlayer(player)}" render="@form" />
					</p:column>
				</p:dataTable>

			</p:panelGrid>

		</h:form>
	</ui:define>
</ui:composition>
